<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Biblioteca</title>
  <!-- Favicons -->
  <link rel="icon" sizes="128x128" href="imagenes/cifp.png">
  <link rel="apple-touch-icon" sizes="180x180" href="imagenes/cifp.png">
  <!-- CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <div class="container-fluid min-vh-100" id="inicio">
    <!-- H E A D E R   1 -->
    <div class="row py-4 justify-content-center justify-content-sm-between text-center text-sm-start" id="header1">
      <div class="col-12 col-sm-5 align-middle ps-4">
        <a href="https://www.cifpcuenca.es/"><img src="./imagenes/logocifp.png" alt="Logo CIFP"></a>
      </div>
      <div class="col-12 col-sm-7 text-center text-sm-end mt-4 mt-sm-0">
        <div class="d-inline-block align-middle px-2 text-center">
          <a href="https://educamosclm.castillalamancha.es/">
            <div><img src="./imagenes/educajccm.png" alt="educajccm"></div>
            <p>Educamos</p>
          </a>
        </div>
        <div class="d-inline-block align-middle px-2 text-center">
          <a href="https://delphos.jccm.es/delphos/jsp/pag_inicio1024.jsp">
            <div><img src="./imagenes/delphos.png" alt="educajccm"></div>
            <p>Delphos</p>
          </a>
        </div> <br class="d-block d-md-none">
        <div class="d-inline-block align-middle px-2 text-center">
          <a href="https://aulasfp2223.castillalamancha.es/">
            <div><img src="./imagenes/elearning.png" alt="educajccm"></div>
            <p>FP a distancia</p>
          </a>
        </div>
        <div class="d-inline-block align-middle px-2 text-center">
          <a href="http://pop.jccm.es/acredita/">
            <div><img src="./imagenes/acreditaclm.png" alt="educajccm"></div>
            <p>Acredita</p>
          </a>
        </div>
      </div>
    </div>

    <!-- H E A D E R   2 -->
    <div class="row px-2 py-3 justify-content-center text-uppercase fw-bold" id="header2">
      <a href="index.html"class="col-auto text-center py-2 mx-3">Consultas</a>
      <a href="login.html"class="col-auto text-center py-2 mx-3">Perfil</a>
      <a href="loginAdmin.html"class="col-auto text-center py-2 mx-3">Administración</a>
    </div>
    
    <!-- F I L T R O S -->
    <form action="" method="get">
      <div class="row my-4"><h2 class="text-center">Filtrar Por:</h2></div>
      <div class="row justify-content-center mb-4">

        <!-- TEXTOS -->
        <div class="col-11 col-sm-6 col-md-5 col-lg-4 px-3">
          <!-- TXT Titulo -->
          <div class="row mb-2">
            <div class="col-3 pt-1"><label for="tituloLibro">Título:</label></div>
            <div class="col"><input type="text" class="form-control" id="tituloLibro"></div>
          </div>
          <!-- TXT Autor -->
          <div class="row mb-2">
            <div class="col-3 pt-1"><label for="autorLibro">Autor:</label></div>
            <div class="col"><input type="text" class="form-control" id="autorLibro"></div>
          </div>
          <!-- TXT ISBN -->
          <div class="row mb-2">
            <div class="col-3 pt-1"><label for="isbnLibro">ISBN:</label></div>
            <div class="col"><input type="text" class="form-control" id="isbnLibro"></div>
          </div>
          <!-- TXT Editorial -->
          <div class="row mb-2">
            <div class="col-3 pt-1"><label for="editorialLibro">Editorial:</label></div>
            <div class="col"><input type="text" class="form-control" id="editorialLibro"></div>
          </div>
          <!-- NUMBER Año Edición -->
          <div class="row mb-2">
            <div class="col-3 pt-1"><label for="anioLibro">Año:</label></div>
            <div class="col"><input type="number" class="form-control" id="anioLibro" min="0" max="2023"></div>
          </div>
        </div>

        <!-- COMBOS -->
        <div class="col-11 col-sm-6 col-md-5 col-lg-4 px-3">
          <!-- COMBO Materia -->
          <div class="row mb-2">
            <div class="col-4 pt-1"><label for="materiaLibro">Materia:</label></div>
            <div class="col">
              <select class="form-select" id="materiaLibro" aria-label="Default select example">
                <option value="" selected>-- Selecciona una Materia --</option>
                <option value="Cocina">Cocina</option>
                <option value="Orientación Laboral">Orientación Laboral</option>
                <option value="Animacion">Animacion</option>
                <option value="Informática">Informática</option>
                <option value="Electricidad">Electricidad</option>
                <option value="Hosteleria y Turismo">Hosteleria y Turismo</option>
              </select>
            </div>
          </div>
          <!-- COMBO Departamento -->
          <div class="row mb-2">
            <div class="col-4 pt-1"><label for="departLibro">Departamento:</label></div>
            <div class="col">
              <select class="form-select" id="departLibro" aria-label="Default select example"></select>
            </div>
          </div>
          <!-- COMBO Centro -->
          <div class="row mb-2">
            <div class="col-4 pt-1"><label for="centroLibro">Centro:</label></div>
            <div class="col">
              <select class="form-select" id="centroLibro" aria-label="Default select example">
                <option value="" selected>-- Selecciona un Centro --</option>
                <option value="CIFP1">CIFP1</option>
                <option value="Pedro Mercedes">Pedro Mercedes</option>
                <option value="Albaladejito">Albaladejito</option>
              </select>
            </div>
          </div>
          <!-- COMBO Disponibilidad -->
          <div class="row mb-2">
            <div class="col-4 pt-1"><label for="disponibLibro">Disponibilidad:</label></div>
            <div class="col">
              <select class="form-select" id="disponibLibro" aria-label="Default select example">
                <option value="" selected>-- Selecciona Disponibilidad --</option>
                <option value="ALUMNO">Alumnos</option>
                <option value="PROFESOR">Profesores</option>
                <option value="CONSULTA">Solo Consulta</option>
              </select>
            </div>
          </div>
          <!-- COMBO Estado -->
          <div class="row mb-2">
            <div class="col-4 pt-1"><label for="estadoLibro">Estado Físico:</label></div>
            <div class="col">
              <select class="form-select" id="estadoLibro" aria-label="Default select example">
                <option value="" selected>Cualquiera</option>
                <option value="BUENO">Solo en Buen Estado</option>
              </select>
            </div>
          </div>
        </div>
        <!-- BOTÓN BUSCAR -->
        <div class="col-6 col-sm-4 col-md-2 d-flex align-items-center justify-content-center mt-3 mt-md-0">
          <button type="button" class="btn btn-primary btn-lg w-75" id="buscarLibros">Buscar</button>
        </div>
      </div>
    </form>
    <hr>

    <!-- R E S U L T A D O S -->
    <div class="row px-4 mb-4 table-responsive" id="resultados">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Título</th>
            <th>ISBN</th>
            <th>Autores</th>
            <th>Materia</th>
            <th>Departamento</th>
            <th>Centro</th>
            <th>Editorial</th>
            <th>Año</th>
            <th>Estado</th>
            <th>Disponibilidad</th>
            <th>Reserva</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>

  </div>

  <!-- MODAL LOGIN -->
  <div class="modal fade" id="modalLogin" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">RESERVAR ESTE LIBRO</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h1>Paso 1: Identifícate</h1>
          <div class="row justify-content-center">

            <form class="col-10 col-md-8 col-lg-6 py-4 px-5 my-3" id="loginAlumnos">
              <h2 class="text-center mb-5">Alumnos</h2>
              <div class="form-floating mb-3">
                <input type="text" class="form-control campoLogin" id="dniAlumno" placeholder="DNI" required minlength="9" maxlength="9">
                <label for="dniAlumno">DNI</label>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control campoLogin" id="nieAlumno" placeholder="NIE" required minlength="5" maxlength="8">
                <label for="nieAlumno">NIE</label>
              </div>
              <div class="text-center mt-5"><button type="submit" class="btn btn-primary btn-lg btn-login">Continuar</button></div>
              <input type="hidden" data-bs-toggle="modal" data-bs-target="#modalReserva">
            </form>
      
            <div class="col-10 col-md-8 col-lg-6 py-4 px-5 my-3" id="loginProfesores">
              <h2 class="text-center mb-5">Profesores</h2>
              <div class="form-floating mb-3">
                <input type="text" class="form-control campoLogin" id="dniProfesor" placeholder="DNI" required minlength="9" maxlength="9">
                <label for="dniProfesor">DNI</label>
              </div>
              <div class="form-floating mb-3 invisible">
                <input type="text" class="form-control">
              </div>
              <div class="text-center mt-5"><button type="button" class="btn btn-primary btn-lg btn-login">Continuar</button></div>
              <input type="hidden" data-bs-toggle="modal" data-bs-target="#modalReserva">
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" disabled>Reservar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL RESERVA -->
  <div class="modal fade" id="modalReserva" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">RESERVAR ESTE LIBRO</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h1>Paso 2: Formaliza la Reserva</h1>
          <div class="row mt-5">
            <div class="col-sm-6 px-3 border-end" id="datosReserva">
              <p><b>Título</b>: <span id="tituloReserva">CURSO DE PHP 8 Y MYSQL 8</span></p>
              <p><b>Autores</b>: <span id="autoresReserva">LUIS MIGUEL CABEZAS GRANADO, FRANCISCO JOSE GONZALEZ LOZANO</span></p>
              <p><b>Materia</b>: <span id="materiaReserva">Servidores</span></p>
              <p><b>Departamento</b>: <span id="departResereva">Informática y Comunicaciones</span></p>
              <p><b>Centro</b>: <span id="centroReserva">CIFP Nº1</span></p>
              <p><b>ISBN</b>: <span id="isbnReserva">9788441543720</span><span class="d-none" id="idisbnReserva">0</span></p>
              <p><b>Editorial</b>: <span id="editorialReserva">ANAYA MULTIMEDIA</span></p>
              <p><b>Año</b>: <span id="anioReserva">2021</span></p>
              <p><b>Estado</b>: <span id="estadoReserva">Bueno</span></p>
              <p><b>Disponibilidad</b>: <span id="disponibReserva">Alumnos</span></p>
            </div>
            <div class="col-sm-6 mt-4 mt-sm-0 px-3 text-center">
              <h3 class="mb-4">Fecha Máxima de Recogida:</h3>
              <p class="mb-5"><b id="fechaRecog">Cargando...</b></p>
              <p class="mt-5"><b>Si estás seguro/a de que deseas reservar haz clic en "Reservar" y podrás recoger tu ejemplar en el centro correspondiente antes de la fecha máxima indicada.</b></p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="volverLogin" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#modalLogin">Volver</button>
          <button type="button" class="btn btn-primary" id="botonReservarFinal" data-bs-dismiss="modal">Reservar</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <script src="js/api.js"></script>
  <script src="js/index.js"></script>
</body>
</html>